<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="../assets/css/cal.css" rel="stylesheet" type="text/css">
<!--js-->
<script src="../assets/js/jquery-3.7.1.js"></script>

</head>

<body>

	<div id="cal">
		<input id="display" type="text"><br>
		
		<div id="btnArea">
			<button id="btn9" type="button">9</button>
			<button id="btn8" type="button">8</button>
			<button id="btn7" type="button">7</button>
			
			<button id="btnDiv" type="button">/</button>
			<br>
			
			<button id="btn6" type="button">6</button>
			<button id="btn5" type="button">5</button>
			<button id="btn4" type="button">4</button>
			
			<button id="btnMulti" type="button">*</button>
			<br>
			
			<button id="btn3" type="button">3</button>
			<button id="btn2" type="button">2</button>
			<button id="btn1" type="button">1</button>
			
			<button id="btnPlus" type="button">+</button>
			<br>
			
			<button id="btnClear" type="button">C</button>
			<button id="btn0" type="button">0</button>
			<button id="btnEqual" type="button">=</button>
			<button id="btnMinus" type="button">-</button>
			<br>
		</div>
		
		
	</div>

<script>
$(document).ready(function(){
	console.log('돔트리 완료');
	
	let expression = ""; //수식을 저장할 변수

	//버튼을 클릭했을때
	$('#btnArea button').on('click', function(){
		let value = $(this).text(); // 버튼의 텍스트를 가져옴

        if (value === "C") {
            expression = "";
            $('#display').val('');
        } else if (value === "=") {
            try {
                let result = eval(expression); // 수식 계산
                $('#display').val(result);
                expression = result.toString(); // 결과를 다음 계산에 사용
            } catch (e) {
                $('#display').val("Error");
                expression = "";
            }
        } else {
            expression += value;
            $('#display').val(expression);
        }		
	});

});

</script>
</body>

</html>